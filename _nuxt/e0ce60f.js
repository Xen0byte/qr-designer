(window.webpackJsonp=window.webpackJsonp||[]).push([[38,71,110],{357:function(e,t,n){"use strict";n.r(t);var r={name:"TransitionExpand",functional:!0,render:function(e,t){return e("transition",{props:{name:"expand"},on:{afterEnter:function(element){element.style.height="auto"},enter:function(element){var e=getComputedStyle(element).width;element.style.width=e,element.style.position="absolute",element.style.visibility="hidden",element.style.height="auto";var t=getComputedStyle(element).height;element.style.width=null,element.style.position=null,element.style.visibility=null,element.style.height=0,getComputedStyle(element).height,requestAnimationFrame((function(){element.style.height=t}))},leave:function(element){var e=getComputedStyle(element).height;element.style.height=e,getComputedStyle(element).height,requestAnimationFrame((function(){element.style.height=0}))}}},t.children)}},l=(n(361),n(363),n(75)),component=Object(l.a)(r,undefined,undefined,!1,null,"3defa20d",null);t.default=component.exports},358:function(e,t,n){var content=n(362);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(65).default)("718ee36c",content,!0,{sourceMap:!1})},359:function(e,t,n){var content=n(364);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(65).default)("27ddb0fa",content,!0,{sourceMap:!1})},361:function(e,t,n){"use strict";n(358)},362:function(e,t,n){var r=n(64)((function(i){return i[1]}));r.push([e.i,"*[data-v-3defa20d]{\n  will-change:height;\n  transform:translateZ(0);\n  -webkit-backface-visibility:hidden;\n          backface-visibility:hidden;\n  perspective:1000px\n}",""]),r.locals={},e.exports=r},363:function(e,t,n){"use strict";n(359)},364:function(e,t,n){var r=n(64)((function(i){return i[1]}));r.push([e.i,".expand-enter-active,.expand-leave-active{\n  transition:height .3s cubic-bezier(.46,.03,.52,.96);\n  overflow:hidden\n}\n.expand-enter,.expand-leave-to{\n  height:0\n}",""]),r.locals={},e.exports=r},390:function(e,t,n){"use strict";n.r(t);var r=n(12),l=(n(66),n(56),n(50),n(68),n(16),n(22),n(28),n(30),n(357)),o=n(2),c=n(405),d=o.default.extend({components:{GlyphImage:c.default,TransitionExpand:l.default},props:["newestUploadId"],data:function(){return{glyphListLeft:[],glyphListRight:[],deleteList:[],deleting:!1}},watch:{newestUploadId:function(e){this.refreshImages()}},computed:{deleteButtonText:function(){return this.deleting?"Deleting ".concat(this.deleteList.length," image").concat(this.deleteList.length>1?"s":"","..."):"Delete ".concat(this.deleteList.length," image").concat(this.deleteList.length>1?"s":"")}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.refreshImages();case 1:case"end":return t.stop()}}),t)})))()},methods:{refreshImages:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(n=e.$fire.auth.currentUser)||void 0===n?void 0:n.uid;case 2:if(!(r=t.sent)){t.next=9;break}return t.next=6,e.$fire.storage.ref("design/glyphs/".concat(r)).listAll();case 6:l=t.sent,e.glyphListLeft=l.items.filter((function(e,t){return t%2==0})),e.glyphListRight=l.items.filter((function(e,t){return t%2==1}));case 9:case"end":return t.stop()}}),t)})))()},selected:function(e){this.deleteList.push(e)},deselected:function(e){this.deleteList.splice(this.deleteList.indexOf(e),1)},deleteSelected:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.deleting=!0,t.prev=1,t.next=4,Promise.all(e.deleteList.map((function(path){return e.$fire.storage.ref(path).delete()})));case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:e.deleteList=[],e.deleting=!1,e.refreshImages();case 11:case"end":return t.stop()}}),t,null,[[1,6]])})))()}}}),h=n(75),component=Object(h.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition-expand",[e.deleteList.length?n("div",{staticClass:"flex flex-row items-center justify-center"},[n("button",{staticClass:"\n          flex flex-row\n          items-center\n          px-2\n          py-1\n          bg-red-100\n          hover:bg-red-200\n          hover:text-red-800\n          disabled:bg-red-100\n          disabled:text-red-800\n          transition\n          text-red-700\n          mb-2\n        ",attrs:{disabled:e.deleting},on:{click:e.deleteSelected}},[n("svg",{staticClass:"h-4 w-4 mr-1 mb-px",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"}})]),e._v("\n        "+e._s(e.deleteButtonText)+"\n      ")])]):e._e()]),e._v(" "),n("div",{staticClass:"overflow-auto flex flex-row"},[n("div",{staticClass:"flex flex-col max-w-1/2 items-center mr-1"},e._l(e.glyphListLeft,(function(glyph){return n("glyph-image",{key:glyph.fullPath,attrs:{glyph:glyph},on:{selected:e.selected,deselected:e.deselected}})})),1),e._v(" "),n("div",{staticClass:"flex flex-col max-w-1/2 items-center"},e._l(e.glyphListRight,(function(glyph){return n("glyph-image",{key:glyph.fullPath,attrs:{glyph:glyph},on:{selected:e.selected,deselected:e.deselected}})})),1)])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{TransitionExpand:n(357).default})},405:function(e,t,n){"use strict";n.r(t);const r={props:{src:{type:String,required:!0},srcPlaceholder:{type:String,default:"data:,"},srcset:{type:String},intersectionOptions:{type:Object,default:()=>({})},usePicture:{type:Boolean,default:!1}},inheritAttrs:!1,data:()=>({observer:null,intersected:!1,loaded:!1}),computed:{srcImage(){return this.intersected&&this.src?this.src:this.srcPlaceholder},srcsetImage(){return!(!this.intersected||!this.srcset)&&this.srcset}},methods:{load(){this.$el.getAttribute("src")!==this.srcPlaceholder&&(this.loaded=!0,this.$emit("load"))},error(){this.$emit("error",this.$el)}},render(e){let t=e("img",{attrs:{src:this.srcImage,srcset:this.srcsetImage},domProps:this.$attrs,class:{"v-lazy-image":!0,"v-lazy-image-loaded":this.loaded},on:{load:this.load,error:this.error}});return this.usePicture?e("picture",{on:{load:this.load}},this.intersected?[this.$slots.default,t]:[t]):t},mounted(){"IntersectionObserver"in window&&(this.observer=new IntersectionObserver((e=>{e[0].isIntersecting&&(this.intersected=!0,this.observer.disconnect(),this.$emit("intersect"))}),this.intersectionOptions),this.observer.observe(this.$el))},destroyed(){"IntersectionObserver"in window&&this.observer.disconnect()}};var l=n(2).default.extend({components:{VLazyImage:r},props:["glyph"],data:function(){return{hovering:!1,selected:!1}},watch:{selected:function(e,t){e?this.$emit("selected",this.glyph.fullPath):this.$emit("deselected",this.glyph.fullPath)}},methods:{dragStart:function(e){this.glyph.fullPath&&this.$store.commit("designMeta/setDraggingItem",this.draggingItemFromEvent(e))},draggingItemFromEvent:function(e){var t=e.target;return{type:"image",data:{url:t.src,width:t.width,height:t.height},offsetX:e.offsetX,offsetY:e.offsetY}}}}),o=n(75),component=Object(o.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"relative",on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},[n("div",{staticClass:"\n        absolute\n        top-0\n        left-0\n        right-0\n        bottom-0\n        bg-purple-100\n        transition\n        pointer-events-none\n      ",class:{"opacity-50":e.selected,"opacity-0":!e.selected}}),e._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:e.glyph.fullPath&&(e.hovering||e.selected),expression:"glyph.fullPath && (hovering || selected)"},{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"top-2 right-2 rounded text-purple-600 absolute cursor-pointer p-2",class:{"opacity-75":!e.selected},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selected)?e._i(e.selected,null)>-1:e.selected},on:{change:function(t){var n=e.selected,r=t.target,l=!!r.checked;if(Array.isArray(n)){var o=e._i(n,null);r.checked?o<0&&(e.selected=n.concat([null])):o>-1&&(e.selected=n.slice(0,o).concat(n.slice(o+1)))}else e.selected=l}}}),e._v(" "),n("img",{staticClass:"mb-1 cursor-move border border-gray-300 border-dashed",attrs:{loading:"lazy",draggable:"true",src:"/design/glyph/"+e.glyph.fullPath},on:{dragstart:e.dragStart}})])])}),[],!1,null,null,null);t.default=component.exports}}]);